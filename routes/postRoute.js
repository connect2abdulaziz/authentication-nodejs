const router = require("express").Router();
const {
  createPost,
  getPosts,
  getPostById,
  updatePostById,
  deletePostById,
} = require("../controllers/postController");
const { authentication, restrictTo } = require("../controllers/authController");

router
  .route("/")
  .post(authentication, restrictTo("1"), createPost)
  .get(authentication, restrictTo("1"), getPosts);

router
  .route("/:id")
  .get(authentication, getPostById)
  .patch(authentication, updatePostById)
  .delete(authentication, deletePostById);
module.exports = router;
